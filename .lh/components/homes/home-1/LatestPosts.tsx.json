{
    "sourceFile": "components/homes/home-1/LatestPosts.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 12,
            "patches": [
                {
                    "date": 1762286090425,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1762286097352,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,34 +1,43 @@\n-import Image from \"next/image\";\r\n-import Link from \"next/link\";\r\n-import { getJSON } from \"@/lib/api\";\r\n-import type { BlogPost } from \"@/types/blog-post\";\r\n+import { gridPosts } from \"@/data/blogs\";\r\n \r\n-export default async function LatestPosts() {\r\n-  const blogs = await getJSON<BlogPost[]>(\"/api/public/blogs\"); // published only\r\n+import BlogCard1 from \"@/components/blog-cards/BlogCard1\";\r\n+import NewsLetterForm from \"@/components/common/NewsLetterForm\";\r\n \r\n-  if (!blogs.length) return null;\r\n-\r\n+export default function LatestPosts() {\r\n   return (\r\n-    <section className=\"latest-posts\">\r\n-      <div className=\"section-head\"><h2>Latest Posts</h2></div>\r\n-      <div className=\"grid\">\r\n-        {blogs.slice(0, 6).map((b) => (\r\n-          <article key={b._id} className=\"card\">\r\n-            {b.mainImage?.url && (\r\n-              <Link href={`/blog/${b.slug}`}>\r\n-                <Image src={b.mainImage.url} alt={b.title} width={640} height={360} />\r\n-              </Link>\r\n-            )}\r\n-            <div className=\"meta\">\r\n-              {b.category && (\r\n-                <Link href={`/category/${b.category.slug}`} className=\"chip\">{b.category.name}</Link>\r\n-              )}\r\n+    <div className=\"tf-container tf-spacing-1\">\r\n+      <div className=\"heading-section mb_28\">\r\n+        <h3 className=\"title\">Latest Posts</h3>\r\n+      </div>\r\n+      <div className=\"tf-grid-layout xxl-col-4 sm-col-2\">\r\n+        {gridPosts.map((post, index) => (\r\n+          <BlogCard1 key={index} post={post} />\r\n+        ))}\r\n+        <div className=\"newsletter-item d-flex flex-column justify-content-between\">\r\n+          <h4 className=\"mb_20\">\r\n+            Subscribe Now To Stay Updated With Top News!\r\n+          </h4>\r\n+          <div>\r\n+            <NewsLetterForm />\r\n+            <div className=\"box-fieldset-item d-flex\">\r\n+              <fieldset className=\"d-flex gap_12\">\r\n+                <input type=\"checkbox\" className=\"tf-check\" />\r\n+              </fieldset>\r\n+              <p className=\"text-body-1\">\r\n+                By clicking the Subscribe button, you acknowledge that you have\r\n+                read and agree to our\r\n+                <a href=\"#\" className=\"text_on-surface-color link\">\r\n+                  Privacy Policy\r\n+                </a>\r\n+                and\r\n+                <a href=\"#\" className=\"text_on-surface-color link\">\r\n+                  Terms Of Use\r\n+                </a>\r\n+              </p>\r\n             </div>\r\n-            <h3><Link href={`/blog/${b.slug}`}>{b.title}</Link></h3>\r\n-            {b.postedBy && <p className=\"by\">By {b.postedBy}</p>}\r\n-          </article>\r\n-        ))}\r\n+          </div>\r\n+        </div>\r\n       </div>\r\n-    </section>\r\n+    </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1762286529779,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,39 +1,90 @@\n-import { gridPosts } from \"@/data/blogs\";\r\n-\r\n+// Server Component: no \"use client\"\r\n import BlogCard1 from \"@/components/blog-cards/BlogCard1\";\r\n import NewsLetterForm from \"@/components/common/NewsLetterForm\";\r\n \r\n-export default function LatestPosts() {\r\n+// tiny server-side fetch helper (or use the one I gave earlier in /lib/api.ts)\r\n+async function getJSON<T>(path: string): Promise<T> {\r\n+  const base = process.env.NEXT_PUBLIC_API_BASE!;\r\n+  const res = await fetch(`${base}${path}`, { next: { revalidate: 300 } });\r\n+  if (!res.ok) throw new Error(`API ${res.status}: ${await res.text()}`);\r\n+  return res.json();\r\n+}\r\n+\r\n+type Blog = {\r\n+  _id: string;\r\n+  title: string;\r\n+  slug: string;\r\n+  postedBy?: string;\r\n+  mainImage?: { url?: string };\r\n+  category?: { name: string; slug: string };\r\n+  createdAt?: string;\r\n+};\r\n+\r\n+// Adapter to be friendly with different BlogCard1 props conventions.\r\n+// It includes multiple aliases so you usually don't need to touch BlogCard1 at all.\r\n+function toCardPost(b: Blog) {\r\n+  const imageUrl = b.mainImage?.url || \"\";\r\n+  return {\r\n+    // common ids/links\r\n+    id: b._id,\r\n+    slug: b.slug,\r\n+    href: `/blog/${b.slug}`,\r\n+\r\n+    // titles/text\r\n+    title: b.title,\r\n+    author: b.postedBy || \"\",\r\n+\r\n+    // dates\r\n+    createdAt: b.createdAt,\r\n+    time: b.createdAt, // alias many templates use\r\n+\r\n+    // category\r\n+    category: b.category?.name,\r\n+    categoryName: b.category?.name,\r\n+    cate: b.category?.name,           // alias\r\n+    categorySlug: b.category?.slug,\r\n+\r\n+    // images (cover several naming styles used by card components)\r\n+    img: imageUrl,\r\n+    image: imageUrl,\r\n+    picture: imageUrl,\r\n+    thumb: imageUrl,\r\n+    imageObj: { src: imageUrl, alt: b.title },\r\n+  };\r\n+}\r\n+\r\n+export default async function LatestPosts() {\r\n+  // pull all published blogs\r\n+  const blogs = await getJSON<Blog[]>(\"/api/public/blogs\");\r\n+\r\n+  // take the first 6 for this grid; tweak as needed\r\n+  const items = blogs.slice(0, 6).map(toCardPost);\r\n+\r\n   return (\r\n     <div className=\"tf-container tf-spacing-1\">\r\n       <div className=\"heading-section mb_28\">\r\n         <h3 className=\"title\">Latest Posts</h3>\r\n       </div>\r\n+\r\n       <div className=\"tf-grid-layout xxl-col-4 sm-col-2\">\r\n-        {gridPosts.map((post, index) => (\r\n-          <BlogCard1 key={index} post={post} />\r\n+        {items.map((post) => (\r\n+          <BlogCard1 key={post.id} post={post} />\r\n         ))}\r\n+\r\n+        {/* keep your newsletter block */}\r\n         <div className=\"newsletter-item d-flex flex-column justify-content-between\">\r\n-          <h4 className=\"mb_20\">\r\n-            Subscribe Now To Stay Updated With Top News!\r\n-          </h4>\r\n+          <h4 className=\"mb_20\">Subscribe Now To Stay Updated With Top News!</h4>\r\n           <div>\r\n             <NewsLetterForm />\r\n             <div className=\"box-fieldset-item d-flex\">\r\n               <fieldset className=\"d-flex gap_12\">\r\n                 <input type=\"checkbox\" className=\"tf-check\" />\r\n               </fieldset>\r\n               <p className=\"text-body-1\">\r\n-                By clicking the Subscribe button, you acknowledge that you have\r\n-                read and agree to our\r\n-                <a href=\"#\" className=\"text_on-surface-color link\">\r\n-                  Privacy Policy\r\n-                </a>\r\n-                and\r\n-                <a href=\"#\" className=\"text_on-surface-color link\">\r\n-                  Terms Of Use\r\n-                </a>\r\n+                By clicking the Subscribe button, you acknowledge that you have read and agree to our{\" \"}\r\n+                <a href=\"#\" className=\"text_on-surface-color link\">Privacy Policy</a> and{\" \"}\r\n+                <a href=\"#\" className=\"text_on-surface-color link\">Terms Of Use</a>\r\n               </p>\r\n             </div>\r\n           </div>\r\n         </div>\r\n"
                },
                {
                    "date": 1762288921050,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,9 +54,9 @@\n }\r\n \r\n export default async function LatestPosts() {\r\n   // pull all published blogs\r\n-  const blogs = await getJSON<Blog[]>(\"/api/public/blogs\");\r\n+  const blogs = await getJSON<Blog[]>(\"/api/blogs\");\r\n \r\n   // take the first 6 for this grid; tweak as needed\r\n   const items = blogs.slice(0, 6).map(toCardPost);\r\n \r\n"
                },
                {
                    "date": 1762361042556,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n           <BlogCard1 key={post.id} post={post} />\r\n         ))}\r\n \r\n         {/* keep your newsletter block */}\r\n-        <div className=\"newsletter-item d-flex flex-column justify-content-between\">\r\n+        {/* <div className=\"newsletter-item d-flex flex-column justify-content-between\">\r\n           <h4 className=\"mb_20\">Subscribe Now To Stay Updated With Top News!</h4>\r\n           <div>\r\n             <NewsLetterForm />\r\n             <div className=\"box-fieldset-item d-flex\">\r\n@@ -86,9 +86,9 @@\n                 <a href=\"#\" className=\"text_on-surface-color link\">Terms Of Use</a>\r\n               </p>\r\n             </div>\r\n           </div>\r\n-        </div>\r\n+        </div> */}\r\n       </div>\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1762364515247,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,95 @@\n+// Server Component: no \"use client\"\r\n+import BlogCard1 from \"@/components/blog-cards/BlogCard1\";\r\n+import NewsLetterForm from \"@/components/common/NewsLetterForm\";\r\n+import { fetchBlogs } from \"@/lib/blogs\";\r\n+\r\n+// tiny server-side fetch helper (or use the one I gave earlier in /lib/api.ts)\r\n+async function getJSON<T>(path: string): Promise<T> {\r\n+  const base = process.env.NEXT_PUBLIC_API_BASE!;\r\n+  const res = await fetch(`${base}${path}`, { next: { revalidate: 300 } });\r\n+  if (!res.ok) throw new Error(`API ${res.status}: ${await res.text()}`);\r\n+  return res.json();\r\n+}\r\n+\r\n+type Blog = {\r\n+  _id: string;\r\n+  title: string;\r\n+  slug: string;\r\n+  postedBy?: string;\r\n+  mainImage?: { url?: string };\r\n+  category?: { name: string; slug: string };\r\n+  createdAt?: string;\r\n+};\r\n+\r\n+// Adapter to be friendly with different BlogCard1 props conventions.\r\n+// It includes multiple aliases so you usually don't need to touch BlogCard1 at all.\r\n+function toCardPost(b: Blog) {\r\n+  const imageUrl = b.mainImage?.url || \"\";\r\n+  return {\r\n+    // common ids/links\r\n+    id: b._id,\r\n+    slug: b.slug,\r\n+    href: `/blog/${b.slug}`,\r\n+\r\n+    // titles/text\r\n+    title: b.title,\r\n+    author: b.postedBy || \"\",\r\n+\r\n+    // dates\r\n+    createdAt: b.createdAt,\r\n+    time: b.createdAt, // alias many templates use\r\n+\r\n+    // category\r\n+    category: b.category?.name,\r\n+    categoryName: b.category?.name,\r\n+    cate: b.category?.name,           // alias\r\n+    categorySlug: b.category?.slug,\r\n+\r\n+    // images (cover several naming styles used by card components)\r\n+    img: imageUrl,\r\n+    image: imageUrl,\r\n+    picture: imageUrl,\r\n+    thumb: imageUrl,\r\n+    imageObj: { src: imageUrl, alt: b.title },\r\n+  };\r\n+}\r\n+\r\n+export default async function LatestPosts() {\r\n+  // pull all published blogs\r\n+  const blogs = await getJSON<Blog[]>(\"/api/blogs\");\r\n+\r\n+  // take the first 6 for this grid; tweak as needed\r\n+  const items = blogs.slice(0, 6).map(toCardPost);\r\n+\r\n+  return (\r\n+    <div className=\"tf-container tf-spacing-1\">\r\n+      <div className=\"heading-section mb_28\">\r\n+        <h3 className=\"title\">Latest Posts</h3>\r\n+      </div>\r\n+\r\n+      <div className=\"tf-grid-layout xxl-col-4 sm-col-2\">\r\n+        {items.map((post) => (\r\n+          <BlogCard1 key={post.id} post={post} />\r\n+        ))}\r\n+\r\n+        {/* keep your newsletter block */}\r\n+        {/* <div className=\"newsletter-item d-flex flex-column justify-content-between\">\r\n+          <h4 className=\"mb_20\">Subscribe Now To Stay Updated With Top News!</h4>\r\n+          <div>\r\n+            <NewsLetterForm />\r\n+            <div className=\"box-fieldset-item d-flex\">\r\n+              <fieldset className=\"d-flex gap_12\">\r\n+                <input type=\"checkbox\" className=\"tf-check\" />\r\n+              </fieldset>\r\n+              <p className=\"text-body-1\">\r\n+                By clicking the Subscribe button, you acknowledge that you have read and agree to our{\" \"}\r\n+                <a href=\"#\" className=\"text_on-surface-color link\">Privacy Policy</a> and{\" \"}\r\n+                <a href=\"#\" className=\"text_on-surface-color link\">Terms Of Use</a>\r\n+              </p>\r\n+            </div>\r\n+          </div>\r\n+        </div> */}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1762364533318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,8 +54,9 @@\n   };\r\n }\r\n \r\n export default async function LatestPosts() {\r\n+  const blogs = await fetchBlogs({ section: \"latest_posts\", limit: 6 });\r\n   // pull all published blogs\r\n   const blogs = await getJSON<Blog[]>(\"/api/blogs\");\r\n \r\n   // take the first 6 for this grid; tweak as needed\r\n@@ -92,98 +93,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-// Server Component: no \"use client\"\r\n-import BlogCard1 from \"@/components/blog-cards/BlogCard1\";\r\n-import NewsLetterForm from \"@/components/common/NewsLetterForm\";\r\n-\r\n-// tiny server-side fetch helper (or use the one I gave earlier in /lib/api.ts)\r\n-async function getJSON<T>(path: string): Promise<T> {\r\n-  const base = process.env.NEXT_PUBLIC_API_BASE!;\r\n-  const res = await fetch(`${base}${path}`, { next: { revalidate: 300 } });\r\n-  if (!res.ok) throw new Error(`API ${res.status}: ${await res.text()}`);\r\n-  return res.json();\r\n-}\r\n-\r\n-type Blog = {\r\n-  _id: string;\r\n-  title: string;\r\n-  slug: string;\r\n-  postedBy?: string;\r\n-  mainImage?: { url?: string };\r\n-  category?: { name: string; slug: string };\r\n-  createdAt?: string;\r\n-};\r\n-\r\n-// Adapter to be friendly with different BlogCard1 props conventions.\r\n-// It includes multiple aliases so you usually don't need to touch BlogCard1 at all.\r\n-function toCardPost(b: Blog) {\r\n-  const imageUrl = b.mainImage?.url || \"\";\r\n-  return {\r\n-    // common ids/links\r\n-    id: b._id,\r\n-    slug: b.slug,\r\n-    href: `/blog/${b.slug}`,\r\n-\r\n-    // titles/text\r\n-    title: b.title,\r\n-    author: b.postedBy || \"\",\r\n-\r\n-    // dates\r\n-    createdAt: b.createdAt,\r\n-    time: b.createdAt, // alias many templates use\r\n-\r\n-    // category\r\n-    category: b.category?.name,\r\n-    categoryName: b.category?.name,\r\n-    cate: b.category?.name,           // alias\r\n-    categorySlug: b.category?.slug,\r\n-\r\n-    // images (cover several naming styles used by card components)\r\n-    img: imageUrl,\r\n-    image: imageUrl,\r\n-    picture: imageUrl,\r\n-    thumb: imageUrl,\r\n-    imageObj: { src: imageUrl, alt: b.title },\r\n-  };\r\n-}\r\n-\r\n-export default async function LatestPosts() {\r\n-  // pull all published blogs\r\n-  const blogs = await getJSON<Blog[]>(\"/api/blogs\");\r\n-\r\n-  // take the first 6 for this grid; tweak as needed\r\n-  const items = blogs.slice(0, 6).map(toCardPost);\r\n-\r\n-  return (\r\n-    <div className=\"tf-container tf-spacing-1\">\r\n-      <div className=\"heading-section mb_28\">\r\n-        <h3 className=\"title\">Latest Posts</h3>\r\n-      </div>\r\n-\r\n-      <div className=\"tf-grid-layout xxl-col-4 sm-col-2\">\r\n-        {items.map((post) => (\r\n-          <BlogCard1 key={post.id} post={post} />\r\n-        ))}\r\n-\r\n-        {/* keep your newsletter block */}\r\n-        {/* <div className=\"newsletter-item d-flex flex-column justify-content-between\">\r\n-          <h4 className=\"mb_20\">Subscribe Now To Stay Updated With Top News!</h4>\r\n-          <div>\r\n-            <NewsLetterForm />\r\n-            <div className=\"box-fieldset-item d-flex\">\r\n-              <fieldset className=\"d-flex gap_12\">\r\n-                <input type=\"checkbox\" className=\"tf-check\" />\r\n-              </fieldset>\r\n-              <p className=\"text-body-1\">\r\n-                By clicking the Subscribe button, you acknowledge that you have read and agree to our{\" \"}\r\n-                <a href=\"#\" className=\"text_on-surface-color link\">Privacy Policy</a> and{\" \"}\r\n-                <a href=\"#\" className=\"text_on-surface-color link\">Terms Of Use</a>\r\n-              </p>\r\n-            </div>\r\n-          </div>\r\n-        </div> */}\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1762364691281,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,9 +54,9 @@\n   };\r\n }\r\n \r\n export default async function LatestPosts() {\r\n-  const blogs = await fetchBlogs({ section: \"latest_posts\", limit: 6 });\r\n+  \r\n   // pull all published blogs\r\n   const blogs = await getJSON<Blog[]>(\"/api/blogs\");\r\n \r\n   // take the first 6 for this grid; tweak as needed\r\n"
                },
                {
                    "date": 1762364804564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,17 +1,9 @@\n // Server Component: no \"use client\"\r\n import BlogCard1 from \"@/components/blog-cards/BlogCard1\";\r\n import NewsLetterForm from \"@/components/common/NewsLetterForm\";\r\n-import { fetchBlogs } from \"@/lib/blogs\";\r\n+import { fetchBlogs } from \"@/lib/blogs\"; // ✅ this replaces getJSON\r\n \r\n-// tiny server-side fetch helper (or use the one I gave earlier in /lib/api.ts)\r\n-async function getJSON<T>(path: string): Promise<T> {\r\n-  const base = process.env.NEXT_PUBLIC_API_BASE!;\r\n-  const res = await fetch(`${base}${path}`, { next: { revalidate: 300 } });\r\n-  if (!res.ok) throw new Error(`API ${res.status}: ${await res.text()}`);\r\n-  return res.json();\r\n-}\r\n-\r\n type Blog = {\r\n   _id: string;\r\n   title: string;\r\n   slug: string;\r\n@@ -20,48 +12,31 @@\n   category?: { name: string; slug: string };\r\n   createdAt?: string;\r\n };\r\n \r\n-// Adapter to be friendly with different BlogCard1 props conventions.\r\n-// It includes multiple aliases so you usually don't need to touch BlogCard1 at all.\r\n+// convert backend Blog -> BlogCard1 props\r\n function toCardPost(b: Blog) {\r\n   const imageUrl = b.mainImage?.url || \"\";\r\n   return {\r\n-    // common ids/links\r\n     id: b._id,\r\n     slug: b.slug,\r\n     href: `/blog/${b.slug}`,\r\n-\r\n-    // titles/text\r\n     title: b.title,\r\n     author: b.postedBy || \"\",\r\n-\r\n-    // dates\r\n     createdAt: b.createdAt,\r\n-    time: b.createdAt, // alias many templates use\r\n-\r\n-    // category\r\n     category: b.category?.name,\r\n-    categoryName: b.category?.name,\r\n-    cate: b.category?.name,           // alias\r\n     categorySlug: b.category?.slug,\r\n-\r\n-    // images (cover several naming styles used by card components)\r\n     img: imageUrl,\r\n     image: imageUrl,\r\n-    picture: imageUrl,\r\n     thumb: imageUrl,\r\n-    imageObj: { src: imageUrl, alt: b.title },\r\n   };\r\n }\r\n \r\n export default async function LatestPosts() {\r\n-  \r\n-  // pull all published blogs\r\n-  const blogs = await getJSON<Blog[]>(\"/api/blogs\");\r\n+  // ✅ fetch only blogs tagged \"latest_posts\"\r\n+  const blogs = await fetchBlogs({ section: \"latest_posts\", limit: 6 });\r\n \r\n-  // take the first 6 for this grid; tweak as needed\r\n-  const items = blogs.slice(0, 6).map(toCardPost);\r\n+  const items = blogs.map(toCardPost);\r\n \r\n   return (\r\n     <div className=\"tf-container tf-spacing-1\">\r\n       <div className=\"heading-section mb_28\">\r\n@@ -72,24 +47,12 @@\n         {items.map((post) => (\r\n           <BlogCard1 key={post.id} post={post} />\r\n         ))}\r\n \r\n-        {/* keep your newsletter block */}\r\n+        {/* optional newsletter block */}\r\n         {/* <div className=\"newsletter-item d-flex flex-column justify-content-between\">\r\n           <h4 className=\"mb_20\">Subscribe Now To Stay Updated With Top News!</h4>\r\n-          <div>\r\n-            <NewsLetterForm />\r\n-            <div className=\"box-fieldset-item d-flex\">\r\n-              <fieldset className=\"d-flex gap_12\">\r\n-                <input type=\"checkbox\" className=\"tf-check\" />\r\n-              </fieldset>\r\n-              <p className=\"text-body-1\">\r\n-                By clicking the Subscribe button, you acknowledge that you have read and agree to our{\" \"}\r\n-                <a href=\"#\" className=\"text_on-surface-color link\">Privacy Policy</a> and{\" \"}\r\n-                <a href=\"#\" className=\"text_on-surface-color link\">Terms Of Use</a>\r\n-              </p>\r\n-            </div>\r\n-          </div>\r\n+          <NewsLetterForm />\r\n         </div> */}\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1762369173470,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,7 @@\n // Server Component: no \"use client\"\r\n import BlogCard1 from \"@/components/blog-cards/BlogCard1\";\r\n-import NewsLetterForm from \"@/components/common/NewsLetterForm\";\r\n-import { fetchBlogs } from \"@/lib/blogs\"; // ✅ this replaces getJSON\r\n+import { fetchBlogs } from \"@/lib/blogs\";\r\n \r\n type Blog = {\r\n   _id: string;\r\n   title: string;\r\n@@ -12,9 +11,9 @@\n   category?: { name: string; slug: string };\r\n   createdAt?: string;\r\n };\r\n \r\n-// convert backend Blog -> BlogCard1 props\r\n+// Convert backend blog format → BlogCard1 props\r\n function toCardPost(b: Blog) {\r\n   const imageUrl = b.mainImage?.url || \"\";\r\n   return {\r\n     id: b._id,\r\n@@ -31,13 +30,14 @@\n   };\r\n }\r\n \r\n export default async function LatestPosts() {\r\n-  // ✅ fetch only blogs tagged \"latest_posts\"\r\n+  // ✅ fetch only blogs with \"latest_posts\" tag\r\n   const blogs = await fetchBlogs({ section: \"latest_posts\", limit: 6 });\r\n-\r\n   const items = blogs.map(toCardPost);\r\n \r\n+  if (!items.length) return null; // hide block if no blogs\r\n+\r\n   return (\r\n     <div className=\"tf-container tf-spacing-1\">\r\n       <div className=\"heading-section mb_28\">\r\n         <h3 className=\"title\">Latest Posts</h3>\r\n@@ -46,14 +46,8 @@\n       <div className=\"tf-grid-layout xxl-col-4 sm-col-2\">\r\n         {items.map((post) => (\r\n           <BlogCard1 key={post.id} post={post} />\r\n         ))}\r\n-\r\n-        {/* optional newsletter block */}\r\n-        {/* <div className=\"newsletter-item d-flex flex-column justify-content-between\">\r\n-          <h4 className=\"mb_20\">Subscribe Now To Stay Updated With Top News!</h4>\r\n-          <NewsLetterForm />\r\n-        </div> */}\r\n       </div>\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1762369699070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,34 +9,50 @@\n   postedBy?: string;\r\n   mainImage?: { url?: string };\r\n   category?: { name: string; slug: string };\r\n   createdAt?: string;\r\n+  contentHtml?: string;\r\n };\r\n \r\n-// Convert backend blog format → BlogCard1 props\r\n+// tiny helper: strip HTML for a short excerpt\r\n+function plain(text = \"\", max = 120) {\r\n+  const s = text.replace(/<[^>]+>/g, \" \").replace(/\\s+/g, \" \").trim();\r\n+  return s.length > max ? s.slice(0, max) + \"…\" : s;\r\n+}\r\n+\r\n+// format a readable date string\r\n+function fmtDate(iso?: string) {\r\n+  if (!iso) return \"\";\r\n+  try {\r\n+    return new Date(iso).toLocaleDateString(\"en-GB\", {\r\n+      day: \"2-digit\",\r\n+      month: \"short\",\r\n+      year: \"numeric\",\r\n+    });\r\n+  } catch {\r\n+    return \"\";\r\n+  }\r\n+}\r\n+\r\n+// Adapt backend Blog → BlogCard1 expected props\r\n function toCardPost(b: Blog) {\r\n-  const imageUrl = b.mainImage?.url || \"\";\r\n   return {\r\n-    id: b._id,\r\n-    slug: b.slug,\r\n-    href: `/blog/${b.slug}`,\r\n+    id: b.slug,                            // BlogCard1 links use `id`; give it the slug\r\n+    imgSrc: b.mainImage?.url || \"\",        // ✅ BlogCard1 reads `imgSrc`\r\n+    category: b.category?.name || \"\",\r\n+    author: b.postedBy || \"\",\r\n+    date: fmtDate(b.createdAt),\r\n     title: b.title,\r\n-    author: b.postedBy || \"\",\r\n-    createdAt: b.createdAt,\r\n-    category: b.category?.name,\r\n-    categorySlug: b.category?.slug,\r\n-    img: imageUrl,\r\n-    image: imageUrl,\r\n-    thumb: imageUrl,\r\n+    excerpt: plain(b.contentHtml || \"\", 140),\r\n   };\r\n }\r\n \r\n export default async function LatestPosts() {\r\n-  // ✅ fetch only blogs with \"latest_posts\" tag\r\n+  // only the section you want on this block\r\n   const blogs = await fetchBlogs({ section: \"latest_posts\", limit: 6 });\r\n   const items = blogs.map(toCardPost);\r\n \r\n-  if (!items.length) return null; // hide block if no blogs\r\n+  if (!items.length) return null;\r\n \r\n   return (\r\n     <div className=\"tf-container tf-spacing-1\">\r\n       <div className=\"heading-section mb_28\">\r\n"
                },
                {
                    "date": 1762450642179,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,10 @@\n \r\n // Adapt backend Blog → BlogCard1 expected props\r\n function toCardPost(b: Blog) {\r\n   return {\r\n-    id: b.slug,                            // BlogCard1 links use `id`; give it the slug\r\n+    id: b.slug,    \r\n+    slug: b.slug,                         // BlogCard1 links use `id`; give it the slug\r\n     imgSrc: b.mainImage?.url || \"\",        // ✅ BlogCard1 reads `imgSrc`\r\n     category: b.category?.name || \"\",\r\n     author: b.postedBy || \"\",\r\n     date: fmtDate(b.createdAt),\r\n"
                },
                {
                    "date": 1762937396355,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+// components/homes/home-1/LatestPosts.tsx\r\n // Server Component: no \"use client\"\r\n import BlogCard1 from \"@/components/blog-cards/BlogCard1\";\r\n import { fetchBlogs } from \"@/lib/blogs\";\r\n \r\n@@ -7,20 +8,18 @@\n   title: string;\r\n   slug: string;\r\n   postedBy?: string;\r\n   mainImage?: { url?: string };\r\n-  category?: { name: string; slug: string };\r\n+  category?: { name?: string; slug?: string };\r\n   createdAt?: string;\r\n   contentHtml?: string;\r\n };\r\n \r\n-// tiny helper: strip HTML for a short excerpt\r\n function plain(text = \"\", max = 120) {\r\n   const s = text.replace(/<[^>]+>/g, \" \").replace(/\\s+/g, \" \").trim();\r\n   return s.length > max ? s.slice(0, max) + \"…\" : s;\r\n }\r\n \r\n-// format a readable date string\r\n function fmtDate(iso?: string) {\r\n   if (!iso) return \"\";\r\n   try {\r\n     return new Date(iso).toLocaleDateString(\"en-GB\", {\r\n@@ -32,14 +31,14 @@\n     return \"\";\r\n   }\r\n }\r\n \r\n-// Adapt backend Blog → BlogCard1 expected props\r\n+// Map backend Blog → BlogCard1 props\r\n function toCardPost(b: Blog) {\r\n   return {\r\n-    id: b.slug,    \r\n-    slug: b.slug,                         // BlogCard1 links use `id`; give it the slug\r\n-    imgSrc: b.mainImage?.url || \"\",        // ✅ BlogCard1 reads `imgSrc`\r\n+    id: b.slug,                     // BlogCard1 key\r\n+    slug: b.slug,                   // BlogCard1 uses slug for links\r\n+    imgSrc: b.mainImage?.url || \"\",\r\n     category: b.category?.name || \"\",\r\n     author: b.postedBy || \"\",\r\n     date: fmtDate(b.createdAt),\r\n     title: b.title,\r\n@@ -47,12 +46,13 @@\n   };\r\n }\r\n \r\n export default async function LatestPosts() {\r\n-  // only the section you want on this block\r\n   const blogs = await fetchBlogs({ section: \"latest_posts\", limit: 6 });\r\n-  const items = blogs.map(toCardPost);\r\n \r\n+  // Make the array type explicit to avoid implicit-any during map usage\r\n+  const items: Array<ReturnType<typeof toCardPost>> = blogs.map(toCardPost);\r\n+\r\n   if (!items.length) return null;\r\n \r\n   return (\r\n     <div className=\"tf-container tf-spacing-1\">\r\n@@ -60,9 +60,9 @@\n         <h3 className=\"title\">Latest Posts</h3>\r\n       </div>\r\n \r\n       <div className=\"tf-grid-layout xxl-col-4 sm-col-2\">\r\n-        {items.map((post) => (\r\n+        {items.map((post: ReturnType<typeof toCardPost>) => (\r\n           <BlogCard1 key={post.id} post={post} />\r\n         ))}\r\n       </div>\r\n     </div>\r\n"
                }
            ],
            "date": 1762286090425,
            "name": "Commit-0",
            "content": "import Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { getJSON } from \"@/lib/api\";\r\nimport type { BlogPost } from \"@/types/blog-post\";\r\n\r\nexport default async function LatestPosts() {\r\n  const blogs = await getJSON<BlogPost[]>(\"/api/public/blogs\"); // published only\r\n\r\n  if (!blogs.length) return null;\r\n\r\n  return (\r\n    <section className=\"latest-posts\">\r\n      <div className=\"section-head\"><h2>Latest Posts</h2></div>\r\n      <div className=\"grid\">\r\n        {blogs.slice(0, 6).map((b) => (\r\n          <article key={b._id} className=\"card\">\r\n            {b.mainImage?.url && (\r\n              <Link href={`/blog/${b.slug}`}>\r\n                <Image src={b.mainImage.url} alt={b.title} width={640} height={360} />\r\n              </Link>\r\n            )}\r\n            <div className=\"meta\">\r\n              {b.category && (\r\n                <Link href={`/category/${b.category.slug}`} className=\"chip\">{b.category.name}</Link>\r\n              )}\r\n            </div>\r\n            <h3><Link href={`/blog/${b.slug}`}>{b.title}</Link></h3>\r\n            {b.postedBy && <p className=\"by\">By {b.postedBy}</p>}\r\n          </article>\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"
        }
    ]
}